<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   viewBox="-1 -1 552 122"
   version="1.1">
  <defs>
    <style><![CDATA[
.block {
  stroke: #000;
  fill: #ccc;
}
.connect {
  stroke: #888;
  fill: none;
}
text {
  font-size: 11pt;
  font-family: sans-serif;
  font-weight: bold;
  text-anchor: middle;
}
.text {
  font-size: 11pt;
  font-family: sans-serif;
  height: 100%;
  width: 100%;
  display: table;
  text-align: center;
}
tspan {
  alignment-baseline: middle;
}
]]></style>
    <path id="arrow" d="M 0 0 L -7 3.5 L -5.5 0 L -7 -3.5 Z" />
  </defs>
  <g>
    <rect class="block" x="0" y="80" width="110" height="40" rx="6" ry="6" />
    <text x="55" y="100"><tspan style="text-decoration: underline">H</tspan><tspan>ighschooler</tspan></text>

    <rect class="block" x="210" y="80" width="110" height="40" rx="6" ry="6" />
    <text x="265" y="100"><tspan style="text-decoration: underline">F</tspan><tspan>riend</tspan></text>

    <rect class="block" x="400" y="0" width="150" height="40" rx="6" ry="6" />
    <text x="475" y="20"><tspan>Highschooler (</tspan><tspan style="text-decoration: underline">O</tspan><tspan>ther)</tspan></text>

    <path class="connect" d="M 115 100 L 205 100" />
    <use xlink:href="#arrow" x="205" y="100" />
    <foreignObject x="115" y="80" width="90" height="40">
        <div xmlns="http://www.w3.org/1999/xhtml"
             class="text" style="height: 100%; width: 100%; display: table; text-align: center">
            <div style="vertical-align: middle; display: table-cell">
                JOIN<br/>
                H.Id = F.Id1
            </div>
        </div>
    </foreignObject>

    <path class="connect" d="M 325 100 C 395 100 325 20 395 20" />
    <use xlink:href="#arrow" x="395" y="20" />
    <foreignObject x="190" y="20" width="340" height="80">
        <div xmlns="http://www.w3.org/1999/xhtml"
             class="text" style="height: 100%; width: 100%; display: table; text-align: center">
            <div style="vertical-align: middle; display: table-cell">
                LEFT JOIN F.Id2 = O.Id AND H.Grade &lt;&gt; O.Grade<br/>
                WHERE O.Id IS NULL
            </div>
        </div>
    </foreignObject>
  </g>
</svg>
